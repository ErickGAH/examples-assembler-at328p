;programa :
;resta dos valores de 4 bits usando un solo puerto de entrada
.ORG 0X00
LDI R16, 0X00
OUT DDRB, R16
LDI R17, 0XFF
OUT DDRD, R17
OUT DDRC, R16
MAIN:

IN R16, PINB
IN R17, PINB
ANDI R16, 0X0F
ANDI R17, 0XF0
IN R18, PINC
CPI R18, 0X01
BREQ RESTA
SUMA:
SWAP R17
ADD R16, R17
OUT PORTD, R16
RJMP MAIN
RESTA:
SWAP R17
CP R17, R16
BRLO NEGATIVO
SUB R17, R16
OUT PORTD, R17
RJMP MAIN
NEGATIVO:
LDI R19, 0X80
SUB R16, R17
ADD R16, R19
OUT PORTD, R16
RJMP MAIN
